facet_wrap(~ class, ncol= 2)
#
ggplot(data = mpg) +
geom_point(mapping = aes(x = displ, y = hwy)) +
facet_wrap(~ class, nrow= 2)
reticulate::repl_python()
print('Hello world')
y
reticulate::repl_python()
getwd()
read.csv('data/Plant_height.csv')
write.csv('outputs/test.csv')
source("~/.active-rstudio-document", echo=TRUE)
read.csv('data/Plant_height.csv')
write.csv('outputs/test.csv')
write.csv("outputs/test.csv")
("/outputs/test.csv")
write.csv('outputs/test.csv')
write.csv(plant_height, 'outputs/test.csv')
?write.csv
plant_height <- read.csv('data/Plant_height.csv')
write.csv(x = plant_height, 'outputs/test.csv')
head(plant_height)
# read data
snail_feed <- read.csv('data/Snail_feeding.csv')
head(snail_feed)
?read.csv
# read data
snail_feed <- read.csv('data/Snail_feeding.csv'. header=T)
# read data
snail_feed <- read.csv('data/Snail_feeding.csv'. header=TRUE)
'data/Snail_feeding.csv', header=TRUE
# read data
snail_feed <- read.csv('data/Snail_feeding.csv')
# read data
snail_feed <- read.csv('data/Snail_feeding.csv',header = T)
# read data
snail_feed <- read.csv('data/Snail_feeding.csv', strip.white = T)
snail_feed <- read.csv('data/Snail_feeding.csv', strip.white = T, na.strings = "")
# Check the data before going any further
str(snail_feed)
summary(snail_feed)
unique(snail_feed$Sex)
# selecting only useful columns
snail_feed_filtered = snail_feed_filtered[,1:7]
# selecting only useful columns
snail_feed_filtered = snail_feed[,1:7]
snail_feed_filtered
# selecting only useful columns
snail_feed = snail_feed[,1:7]
summary(snail_feed) # basic stats about the data
colSums(is.na(Snail_feeding)
colSums(is.na(Snail_feeding))
colSums(is.na(Snail_feed))
colSums(is.na(snail_feed))
snail_feed[, colSums(is.na(snail_feed)) != nrow(snail_feed)]
snail_feed <- snail_feed[, colSums(is.na(snail_feed)) != nrow(snail_feed)]
snail_feed <- snail_feed[, colSums(is.na(snail_feed)) != nrow(snail_feed)]
nrow(snail_feed)
ncol(snail_feed)
colSums(is.int(snail_feed))
colSums(is.integer(snail_feed))
colSums(is.character(snail_feed))
snail_feed <- read.csv('data/Snail_feeding.csv',
strip.white = T,
na.strings = "",
stringsAsFactors=FALSE)
# Check the data before going any further
str(snail_feed) # check data types
summary(snail_feed) # basic stats about the data
# selecting only useful columns
snail_feed = snail_feed[,1:7]
# select only the rows that are not entirely NAs
snail_feed <- snail_feed[, colSums(is.na(snail_feed)) != nrow(snail_feed)]
# selecting only useful columns
snail_feed = snail_feed[,1:7]
# select only the rows that are not entirely NAs
snail_feed <- snail_feed[, colSums(is.na(snail_feed)) != nrow(snail_feed)]
unique(snail_feed$Sex)
summary(snail_feed) # basic stats about the data
is.factor(snail_feed)
is.na(snail_feed)
colSums(is.na(snail_feed))
# changing data type of the id
snail_feed$Snail.ID <-  snail_feed$Snail.ID
# changing data type of the id
snail_feed$Snail.ID <-  as.factor(snail_feed$Snail.ID)
snail_feed
# changing data type of the id
snail_feed$Snail <-  as.factor(snail_feed$Snail)
snail_feed <- read.csv('data/Snail_feeding.csv',
strip.white = T,
na.strings = "",
stringsAsFactors=FALSE)
# Check the data before going any further
str(snail_feed) # check data types
summary(snail_feed) # basic stats about the data
# selecting only useful columns
snail_feed = snail_feed[,1:7]
# select only the rows that are not entirely NAs
snail_feed <- snail_feed[, colSums(is.na(snail_feed)) != nrow(snail_feed)]
# select only the rows that are not entirely NAs
snail_feed <- snail_feed[, colSums(is.na(snail_feed)) != nrow(snail_feed)]
# changing data type of the id
snail_feed$Snail <-  as.factor(snail_feed$Snail)
class(snail_feed)
class(snail_feed&Snail)
class(snail_feed$Snail)
summary(snail_feed) # basic stats about the data
class(snail_feed$Distance)
# distance variable was read as character instead of intenger
class(snail_feed$Distance)
snail_feed$Snail <-  as.numeric(snail_feed$Snail)
source("~/.active-rstudio-document", echo=TRUE)
# Dealing with the NAs introduced by coercion
# Find which rows were trasnformed into NA
which(is.na(snail_feed$Distance))
# Dealing with the NAs introduced by coercion
# Find which rows were trasnformed into NA
which(is.na(snail_feed$Distance))
Snail_feeding[682, "Distance"] <- 0.356452 # solve issue by idexing the right value
# Dealing with the NAs introduced by coercion
# Find which rows were trasnformed into NA
which(is.na(snail_feed$Distance))
snail_feed[682, "Distance"] <- 0.356452 # solve issue by idexing the right value
snail_feed[755, "Distance"] <- 0.42336
which(is.na(snail_feed$Distance))
# Check the data before going any further
str(snail_feed) # check data types
summary(snail_feed) # basic stats about the data
# verifying typing errors in the Sex variable
unique(snail_feed$Sex)
snail_feed$Sex[which(snail_feed$Sex == 'males' | snail_feed$Sex == 'Male')] <- 'male'
snail_feed$Sex <- snail_feed$Sex[which(snail_feed$Sex == 'males' | snail_feed$Sex == 'Male')] <- 'male'
unique(snail_feed$Sex)
# verifying typing errors in the Sex variable
unique(snail_feed$Sex)
source("~/.active-rstudio-document", echo=TRUE)
# verifying typing errors in the Sex variable
unique(snail_feed$Sex)
snail_feed$Sex[which(snail_feed$Sex == 'males' | snail_feed$Sex == 'Male')] <- 'male'
unique(snail_feed$Sex)
snail_feed$Sex[which(snail_feed$Sex == 'female s')] <- 'female'
unique(snail_feed$Sex)
summary(snail_feed$Sex)
summary(snail_feed)
snail_feed$Sex <- factor(snail_feed$Sex)
class(snail_feed$Sex)
levels(snail_feed$Sex)
snail_feed$Sex <- as.factor(snail_feed$Sex) # transform as factor
levels(snail_feed$Sex)
# look for rows with a depth greater than 2
snail_feed
# look for rows with a depth greater than 2
snail_feed$Depth[which(snail_feed&Depth > 2)]
# look for rows with a depth greater than 2
snail_feed$Depth[which(snail_feed$Depth >2)]
# look for rows with a depth greater than 2
snail_feed$Depth[which(snail_feed$Depth > 2),]
# look for rows with a depth greater than 2
snail_feed$Depth[which(snail_feed$Depth > 2)]
# look for rows with a depth greater than 2
snail_feed$Depth[which(snail_feed$Depth > 2), ]
# look for rows with a depth greater than 2
snail_feed$Depth[which(snail_feed$Depth > 2)]
snail_feed[which(snail_feed$Depth > 2), ]
# look for rows with a depth greater than 2
snail_feed[which(snail_feed$Depth > 2), ]
snail_feed[which(snail_feed$Depth > 2), 'Depth']
snail_feed[which(snail_feed$Depth > 2), 'Depth'] <- 1.62
summary(snail_feed)
snail_feed$Sex[which(snail_feed$Sex == 'males' | snail_feed$Sex == 'Male')]
# write transformed data
write.csv(x = snail_feed, file='outputs/snail_feed_clean.csv')
# read data
read.csv('data/Herbivore_specialisation.csv')
# read data
df <- read.csv('data/Herbivore_specialisation.csv')
str(df)
# read data
df <- read.csv('data/Herbivore_specialisation.csv',
strip.white = T,
na.strings = "",
stringsAsFactors=FALSE)
str(df)
summary(df)
df$Habitat
unique(df$Habitat)
unique(df$DayNight)
summary(df)
library(tidyverse)
# add a new variable name
# without any package
df$Mass <- log(df$Mass)
df
head(df)
# read data
df <- read.csv('data/Herbivore_specialisation.csv',
strip.white = T,
na.strings = "",
stringsAsFactors=FALSE)
str(df)
summary(df)
# add a new variable name
# without any package
df$LogMass <- log(df$Mass)
head(df)
df <- mutate(df, LogMass1 = log(Mass))
head(df)
head(df)
source("~/.active-rstudio-document", echo=TRUE)
rowSums(df$Ampithoe_caddi)
rowSums(df$Ampithoe_caddi, df$Ampithoe_caddi)
rowSums(df[,6:8])
df <- rename(df, Biomass = Mass)
df
head(df)
# with dplyr
df %>% mutate(LogMass = log(Mass), # log of the mass
Ampithoe = rowSums(df[,6:8]), # sum of ampithoe
),
# with dplyr
df %>% mutate(LogMass = log(Mass), # log of the mass
Ampithoe = rowSums(df[,6:8])), # sum of ampithoe),
# with dplyr
df %>% mutate(LogMass = log(Mass), # log of the mass
Ampithoe = rowSums(df[,6:8])) # sum of ampithoe),
rename(df, Biomass = Mass)
source("~/.active-rstudio-document", echo=TRUE)
rename(df, Biomass = Mass)
head(df)
# with dplyr
df <- mutate(df, LogMass = log(Mass), # log of the mass
Ampithoe = rowSums(df[,6:8]), # sum of ampithoe
)
df <- rename(df, Biomass = Mass)
head(df)
df <-unite(df, "Habitat_DayNight", c(Habitat, DayNight), sep = "_", remove = FALSE)
head(df)
# unite two character variables
df <-unite(df, Habitat_DayNight, c(Habitat, DayNight), sep = "_", remove = FALSE)
head(df)
source("~/.active-rstudio-document", echo=TRUE)
# separating columns
df <-separate(df, Habitat, c('Genus', 'Species'), sep = "_", remove = FALSE)
head(df)
# try with the pipe
df %>% mutate(df, LogMass = log(Mass), # log of the mass
Ampithoe = rowSums(df[,6:8]), # sum of ampithoe
)
# try with the pipe
df %>% mutate(LogMass = log(Mass), # log of the mass
Ampithoe = rowSums(df[,6:8]), # sum of ampithoe
)
# try with the pipe
df %>% mutate(LogMass = log(Mass)) # log of the mass
df %>%  mutate(Clean = Biomass)
head(df,2)
df %>%  mutate(Clean = Biomass)
head(df,2)
df %>% mutate(Clean = Biomass *2)
head(df,2)
# Subsetting
df[1:10,]
df[,1:5]
head(df[,1:5])
# Subsetting when it does not forms a sequence
df[c(6, 10:20),]
# Subsetting when it does not forms a sequence
df[c(10:20), c(1,3:5)]
# Subsetting when it does not forms a sequence
df[c(1, 10:20), c(1,3:5)]
df.Genus
unique(df$Genus)
df&Genus
df$Genus
filter(df$Genus == 'Sargassum')
unique(df$Biomass)
filter(df$Biomass > 5)
df$Biomass <- filter(df$Biomass > 5)
df <- filter(df, Biomass > 5)
df
unique(df$Biomass)
df$Biomass < 5
library(tidyverse)
snail_feed <- filter(snail_feed, is.na(snail_feed) )
snail_feed <- filter(snail_feed, snail_feed != is.na(snail_feed) )
snail_feed <- drop_na(snail_feed)
# random sampling from the dataset
sampled = sample_frac(df, size = 0.5, replace = FALSE)
# top highest rows
top_n(df, 10, Biomass)
ggplot(ex)+
geom_point(x=LogMass, y=Biomass)
ggplot(ex)+
geom_point(aes(x=LogMass, y=Biomass))
# top highest rows
ex <- top_n(df, 10, Biomass)
ggplot(ex)+
geom_point(aes(x=LogMass, y=Biomass))
ggplot(ex)+
geom_point(aes(x=Ampithoe, y=Biomass))
ggplot(ex)+
geom_bar(aes(x=DayNight, y=Biomass))
ggplot(ex)+
geom_bar(aes(y=Biomass))
ggplot(ex)+
geom_bar(aes(x=Biomass))
ggplot(ex)+
geom_bar(aes(x=DayNight))
source("~/R_STUDIES/data_manipulation.R", echo=TRUE)
df
df[, 'Habitat']
df[, 'Habitat':'Species']
grep('Habitat', colnames(df))
grep('Genus', colnames(df))
grep('^Habitat$', colnames(df))
df[, grep('^Habitat$', colnames(df)): 10] # find col index
head(df[, grep('^Habitat$', colnames(df)): 10]) # find col index
which(is.na(df))
which(is.character(df))
which(df$LogMass > 5)
which(names(df)=='Habitat' )
names(df)
class(names(df))
str(names(df))
f <- str(names(df))
df[, which(names(df)=='Habitat')] # using which
df <- distinct(df)
df_subset <- select(df, Genus)
df_subset <- select(df, Biomass: Ampithoe)
df_subset2 <- select(df, Genus, LogMass) # one col
df_subset2 <- select(df, Genus, LogMass, Ampithoe) # specific cols
# Subseting colums that starts or ends with a determined value
df_subset4 <- select(df, starts_with('G'))
# Subseting colums that starts or ends with a determined value
df_subset4 <- select(df, starts_with('Gen'))
# Subseting colums that starts or ends with a determined value
df_subset4 <- select(df, starts_with('Am'))
df_subset5 <- select(df, starts_with('ass'))
df_subset5 <- select(df, end_with('ass'))
df_subset5 <- select(df, ends_with('ass'))
df_subset6 <- select(df, match('^Am')) # with regular expression
df_subset6 <- select(df, match('^Am')) # with regular expression
df_subset6 <- select(df, match('^Ampithoe')) # with regular expression
df_subset6 <- select(df, matches('^Ampithoe')) # with regular expression
df_subset6 <- select(df, matches('^Amp')) # with regular expression
df_subset7 <- select(df, matches('ass$')) # with regular expression
df_subset8 <- select(df, contains('Night'))
# exclude a colums
df_subset9 <- select(df, -Mass)
# exclude a colums
df_subset9 <- select(df, -LogMass)
# exclude a colums
df_subset9 <- select(df, -LogMass, -Ampithoe)
?dplyr
# Summarising Data
summarise(df)
# Summarising Data
summary(df)
# Summarising Data
summarise(df, Biomass_test = mean(Biomass))
mean(df$Biomass)
# Summary group of rows -> group_by
group_by(df, Day_Night)
# Summary group of rows -> group_by
group_by(df, Biomass)
# Summary group of rows -> group_by
group_by(df, DayNight)
# Summary group of rows -> group_by
x <- group_by(df, DayNight)
# Summary group of rows -> group_by
group_by(df, DayNight)
# Summary group of rows -> group_by
df %>% group_by(DayNight)
# Summary group of rows -> group_by
df %>%
group_by(Species) %>%
summarise(
mean.Biomass = mean(Biomass), # mean
min.Biomass = min(Biomass), # minimum
max.Biomass = max(Biomass), # maximum
med.Biomass = median(Biomass), # median
sd.Biomass = sd(Biomass)) # standard deviation
# Summary group of rows -> group_by
df %>%
group_by(Genus) %>%
summarise(
mean.Biomass = mean(Biomass), # mean
min.Biomass = min(Biomass), # minimum
max.Biomass = max(Biomass), # maximum
med.Biomass = median(Biomass), # median
sd.Biomass = sd(Biomass)) # standard deviation
# Summary group of rows -> group_by
df %>%
group_by(DayNight) %>%
summarise(
mean.Biomass = mean(Biomass), # mean
min.Biomass = min(Biomass), # minimum
max.Biomass = max(Biomass), # maximum
med.Biomass = median(Biomass), # median
sd.Biomass = sd(Biomass)) # standard deviation
# Summary group of rows -> group_by # careful with NA
df %>%
group_by(DayNight) %>%
summarise(
mean.Biomass = mean(Biomass, na.rm=True), # mean
min.Biomass = min(Biomass), # minimum
max.Biomass = max(Biomass), # maximum
med.Biomass = median(Biomass), # median
sd.Biomass = sd(Biomass)) # standard deviation
# Summary group of rows -> group_by # careful with NA
df %>%
group_by(DayNight) %>%
summarise(
mean.Biomass = mean(Biomass, na.rm=TRUE), # mean
min.Biomass = min(Biomass), # minimum
max.Biomass = max(Biomass), # maximum
med.Biomass = median(Biomass), # median
sd.Biomass = sd(Biomass)) # standard deviation
# Summary group of rows -> group_by # careful with NA
df %>%
group_by(Species) %>%
summarise(
mean.Biomass = mean(Biomass, na.rm=TRUE), # mean
min.Biomass = min(Biomass), # minimum
max.Biomass = max(Biomass), # maximum
med.Biomass = median(Biomass), # median
sd.Biomass = sd(Biomass)) # standard deviation
# Summary group of rows -> group_by # careful with NA
df %>%
group_by(Species) %>%
summarise(
mean.Biomass = mean(Biomass, na.rm=TRUE), # mean
min.Biomass = min(Biomass, na.rm=TRUE), # minimum
max.Biomass = max(Biomass, na.rm=TRUE), # maximum
med.Biomass = median(Biomass, na.rm=TRUE), # median
sd.Biomass = sd(Biomass, na.rm=TRUE)) # standard deviation
# Summary group of rows -> group_by # careful with NA
df %>%
group_by(Species) %>%
summarise(
mean.Biomass = mean(Biomass, na.rm=TRUE), # mean
min.Biomass = min(Biomass, na.rm=TRUE), # minimum
max.Biomass = max(Biomass, na.rm=TRUE), # maximum
med.Biomass = median(Biomass, na.rm=TRUE), # median
sd.Biomass = sd(Biomass, na.rm=TRUE)) %>% # standard deviation
arrange(Species, desc(Species))
# Summary group of rows -> group_by # careful with NA
df %>%
group_by(Species) %>%
summarise(
mean.Biomass = mean(Biomass, na.rm=TRUE), # mean
min.Biomass = min(Biomass, na.rm=TRUE), # minimum
max.Biomass = max(Biomass, na.rm=TRUE), # maximum
med.Biomass = median(Biomass, na.rm=TRUE), # median
sd.Biomass = sd(Biomass, na.rm=TRUE)) %>% # standard deviation
arrange(Species, desc(mean.Biomass))
# Summary group of rows -> group_by # careful with NA
df %>%
group_by(Species) %>%
summarise(
mean.Biomass = mean(Biomass, na.rm=TRUE), # mean
min.Biomass = min(Biomass, na.rm=TRUE), # minimum
max.Biomass = max(Biomass, na.rm=TRUE), # maximum
med.Biomass = median(Biomass, na.rm=TRUE), # median
sd.Biomass = sd(Biomass, na.rm=TRUE)) %>% # standard deviation
arrange(desc(mean.Biomass))
# Summary group of rows -> group_by # careful with NA
df_summarised <- df %>%
group_by(Species) %>%
summarise(
mean.Biomass = mean(Biomass, na.rm=TRUE), # mean
min.Biomass = min(Biomass, na.rm=TRUE), # minimum
max.Biomass = max(Biomass, na.rm=TRUE), # maximum
med.Biomass = median(Biomass, na.rm=TRUE), # median
sd.Biomass = sd(Biomass, na.rm=TRUE)) %>% # standard deviation
arrange(desc(mean.Biomass)) # rearrange the order of the rows
ggplot(df, aes(Species, Biomass)) +
geom_boxplot()
ggplot(df, aes(Biomass, Species)) +
geom_boxplot()
ggplot(df, aes(Biomass, Species)) +
geom_boxplot(notch = True)
ggplot(df, aes(Biomass, Species)) +
geom_boxplot(notch = T)
ggplot(df, aes(Biomass, Species, color = Biomass)) +
geom_boxplot(notch = T)
ggplot(df, aes(Biomass, Species, color = Biomass)) +
geom_boxplot(notch = F)
ggplot(df, aes(Biomass, Species, color = Species)) +
geom_boxplot(notch = F)
ggplot(df, aes(Biomass, Species, fill = Species)) +
geom_boxplot(notch = F)
ggplot(df, aes(Biomass, Species, fill = Biomass)) +
geom_boxplot(notch = F)
ggplot(df, aes(Biomass, Species, fill = DayNight)) +
geom_boxplot(notch = F)
R.version.string
#> [1] "R version 4.2.1 (2022-06-23)"
R.version.string
install.packages("usethis")
usethis::create_github_token()
> gitcreds::gitcreds_set()
install.packages("gitcreds")
gitcreds::gitcreds_set()
gitcreds_get()
gitcreds_get()
credentials::set_github_pat()
gh::gh_whoami()
source("~/GitHub/RStudies/intro.R", echo=TRUE)
source("~/GitHub/RStudies/getting_started.R", echo=TRUE)
